(function(){"use strict";var t={5132:function(t,i,e){var s=e(6369),a=function(){var t=this,i=t._self._c;return i("div",[i("HeaderComponent",{attrs:{dayName:t.dayName,dayNumber:t.dayNumber,title:"Что посмотреть в пятницу?"},on:{dayChanged:function(i){t.updateDate(),t.sortFilms()}}}),i("FilmsTable",{attrs:{dayNumber:t.dayNumber,films:t.selectedFilms}})],1)},n=[],l=function(){var t=this,i=t._self._c;return i("header",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("h1",{staticClass:"display-6"},[t._v(t._s(t.title))])]),i("div",{staticClass:"col-4"},[i("DateBlock",{attrs:{dayName:t.dayName}})],1),i("div",{staticClass:"col-2"},[i("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",disabled:t.isLastDay},on:{click:t.changeDay}},[t._v("Завершить")])])])])},r=[],o=function(){var t=this,i=t._self._c;return i("div",{staticClass:"date-container"},[i("p",{staticClass:"lead"},[t._v("Сегодня "+t._s(t.dayName))])])},u=[],c={name:"DateBlock",props:["dayName"]},_=c,d=e(1001),m=(0,d.Z)(_,o,u,!1,null,"10998a6a",null),v=m.exports,f={name:"HeaderComponent",props:["title","dayName","dayNumber"],components:{DateBlock:v},methods:{changeDay:function(){this.$emit("dayChanged")}},computed:{isLastDay:function(){return this.dayNumber>4}}},b=f,g=(0,d.Z)(b,l,r,!1,null,"0acab916",null),h=g.exports,C=function(){var t=this,i=t._self._c;return i("div",{staticClass:"container"},[5===t.dayNumber?i("WinnerFilm",{attrs:{films:t.films}}):i("table",{staticClass:"table table-striped"},[i("TableHead"),i("tbody",t._l(t.films,(function(e){return i("table-row",{key:e.id,tag:"tr",attrs:{films:t.films,id:e.id,titleRus:e.titleRus,titleOriginal:e.titleOriginal,year:e.year,ageRating:e.ageRating,genre:e.genre,country:e.country,time:e.time,voiceOver:e.voiceOver,subtitles:e.subtitles,slogan:e.slogan,image:e.image,rating:e.rating,currentNumber:t.films.indexOf(e)+1}})})),1)],1)],1)},p=[],y=function(){var t=this;t._self._c;return t._m(0)},O=[function(){var t=this,i=t._self._c;return i("thead",[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("№")]),i("th",{attrs:{scope:"col"}},[t._v("Название")]),i("th",{attrs:{scope:"col"}},[t._v("Проголосовать")]),i("th",{attrs:{scope:"col"}},[t._v("Число голосов")])])])}],k={name:"TableHead",components:{}},F=k,N=(0,d.Z)(F,y,O,!1,null,"12599fb3",null),w=N.exports,R=function(){var t=this,i=t._self._c;return i("tr",{class:{liders:t.isLeader()}},[i("td",[t._v(t._s(t.currentNumber))]),i("td",{on:{click:t.showCard}},[i("div",{staticClass:"film-title",class:{active:t.isClicked}},[t._v(t._s(t.titleRus)+" ("+t._s(t.year)+")")]),i("transition",{attrs:{name:"fade"}},[i("FilmCard",{directives:[{name:"show",rawName:"v-show",value:t.isClicked,expression:"isClicked"}],attrs:{films:t.films,id:t.id,titleRus:t.titleRus,titleOriginal:t.titleOriginal,year:t.year,ageRating:t.ageRating,genre:t.genre,country:t.country,time:t.time,voiceOver:t.voiceOver,subtitles:t.subtitles,slogan:t.slogan,image:t.image}})],1)],1),i("td",[i("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:t.sendVoice}},[t._v("Голосую за него!")])]),i("td",[t._v(t._s(t.rating))])])},x=[],T=function(){var t=this,i=t._self._c;return i("div",{staticClass:"film-card"},[i("div",{staticClass:"film-card__poster"},[i("img",{attrs:{src:t.image,alt:t.titleRus}})]),i("div",{staticClass:"film-card__info info"},[i("div",{staticClass:"info__original-title"},[t._v(t._s(t.titleOriginal)+" "+t._s(t.ageRating)+"+")]),i("div",{staticClass:"info__about-title"},[t._v("О фильме")]),i("div",{staticClass:"info__about-content about"},[i("div",{staticClass:"about__name"},[t._v("Год производства")]),i("div",{staticClass:"about__value"},[t._v(t._s(t.year))]),i("div",{staticClass:"about__name"},[t._v("Слоган")]),i("div",{staticClass:"about__value"},[t._v("«"+t._s(t.slogan)+"»")]),i("div",{staticClass:"about__name"},[t._v("Страна")]),i("div",{staticClass:"about__value"},[i("ul",t._l(t.country,(function(e){return i("li",{key:e.title},[t._v(t._s(e))])})),0)]),i("div",{staticClass:"about__name"},[t._v("Жанр")]),i("div",{staticClass:"about__value"},[i("ul",t._l(t.genre,(function(e){return i("li",{key:e.title},[t._v(t._s(e))])})),0)]),i("div",{staticClass:"about__name"},[t._v("Возраст")]),i("div",{staticClass:"about__value"},[i("span",{staticClass:"age"},[t._v(t._s(t.ageRating)+"+")])]),i("div",{staticClass:"about__name"},[t._v("Звуковые дорожки")]),i("div",{staticClass:"about__value"},[i("ul",t._l(t.voiceOver,(function(e){return i("li",{key:e.title},[t._v(t._s(e))])})),0)]),i("div",{staticClass:"about__name"},[t._v("Субтитры")]),i("div",{staticClass:"about__value"},[i("ul",t._l(t.subtitles,(function(e){return i("li",{key:e.title},[t._v(t._s(e))])})),0)]),i("div",{staticClass:"about__name"},[t._v("Время")]),i("div",{staticClass:"about__value"},[t._v(t._s(t.time)+" мин. "+t._s(t._f("formatTime")(t.time)))])])])])},Z=[],$={name:"FilmCard",props:["id","titleRus","titleOriginal","year","ageRating","genre","country","time","voiceOver","subtitles","slogan","image"],filters:{formatTime:function(t){if(t<60)return!1;{let i=Math.floor(t/60),e=t-60*i;return`/ ${i}ч. ${e}мин.`}}},components:{}},j=$,D=(0,d.Z)(j,T,Z,!1,null,"f24ce64a",null),M=D.exports,H={name:"TableRow",props:["films","rating","id","titleRus","titleOriginal","year","ageRating","genre","country","time","voiceOver","subtitles","slogan","image","currentNumber"],components:{FilmCard:M},data(){return{isClicked:!1}},methods:{sendVoice:function(){this.$root.$emit("addVoiceToFilm",this.currentNumber-1)},showCard:function(){this.isClicked=!this.isClicked},isLeader:function(){return this.films.length/2>=this.currentNumber}},mounted:function(){this.$emit("changeIndex")}},P=H,E=(0,d.Z)(P,R,x,!1,null,"f46e0e46",null),L=E.exports,S=function(){var t=this,i=t._self._c;return i("div",[i("h2",{staticClass:"display-5"},[t._v("И.. наш победитель!")]),i("div",{staticClass:"film-card"},[i("div",{staticClass:"film-title"},[t._v(t._s(t.films[0].titleRus)+" ("+t._s(t.films[0].year)+")")]),i("div",{staticClass:"film-card__poster"},[i("img",{attrs:{src:t.films[0].image,alt:t.films[0].titleRus}})]),i("div",{staticClass:"film-card__info info"},[i("div",{staticClass:"info__original-title"},[t._v(t._s(t.films[0].titleOriginal)+" "+t._s(t.films[0].ageRating)+"+")]),i("div",{staticClass:"info__about-title"},[t._v("О фильме")]),i("div",{staticClass:"info__about-content about"},[i("div",{staticClass:"about__name"},[t._v("Год производства")]),i("div",{staticClass:"about__value"},[t._v(t._s(t.films[0].year))]),i("div",{staticClass:"about__name"},[t._v("Слоган")]),i("div",{staticClass:"about__value"},[t._v("«"+t._s(t.films[0].slogan)+"»")]),i("div",{staticClass:"about__name"},[t._v("Страна")]),i("div",{staticClass:"about__value"},[i("ul",t._l(t.films[0].country,(function(e){return i("li",{key:e.title},[t._v(t._s(e))])})),0)]),i("div",{staticClass:"about__name"},[t._v("Жанр")]),i("div",{staticClass:"about__value"},[i("ul",t._l(t.films[0].genre,(function(e){return i("li",{key:e.title},[t._v(t._s(e))])})),0)]),i("div",{staticClass:"about__name"},[t._v("Возраст")]),i("div",{staticClass:"about__value"},[i("span",{staticClass:"age"},[t._v(t._s(t.films[0].ageRating)+"+")])]),i("div",{staticClass:"about__name"},[t._v("Звуковые дорожки")]),i("div",{staticClass:"about__value"},[i("ul",t._l(t.films[0].voiceOver,(function(e){return i("li",{key:e.title},[t._v(t._s(e))])})),0)]),i("div",{staticClass:"about__name"},[t._v("Субтитры")]),i("div",{staticClass:"about__value"},[i("ul",t._l(t.films[0].subtitles,(function(e){return i("li",{key:e.title},[t._v(t._s(e))])})),0)]),i("div",{staticClass:"about__name"},[t._v("Время")]),i("div",{staticClass:"about__value"},[t._v(t._s(t.films[0].time)+" мин. "+t._s(t._f("formatTime")(t.films[0].time)))])])])])])},V=[],B={name:"WinnerFilm",props:["films"],filters:{formatTime:function(t){if(t<60)return!1;{let i=Math.floor(t/60),e=t-60*i;return`/ ${i}ч. ${e}мин.`}}},components:{}},W=B,A=(0,d.Z)(W,S,V,!1,null,"068a2183",null),I=A.exports,U={name:"FilmsTable",props:["films","dayNumber"],components:{TableHead:w,TableRow:L,WinnerFilm:I}},q=U,z=(0,d.Z)(q,C,p,!1,null,"8d717f96",null),G=z.exports,J={name:"App",data(){return{films:[],dayNumber:1,dayName:"18 июля, понедельник",selectedFilms:[]}},async created(){try{const t=await this.axios.get("films.json");this.films=t.data.films,this.selectedFilms=this.films}catch(t){console.log("Ошибка",t)}},mounted:function(){this.$root.$on("addVoiceToFilm",(t=>{function i(t,i){return t.rating>i.rating?-1:t.rating<i.rating?1:0}this.selectedFilms[t].rating+=1,setTimeout((()=>{this.selectedFilms.sort(i)}),1e3)}))},methods:{updateDate:function(){this.dayNumber++;const t=["18 июля, понедельник","19 июля, вторник","20 июля, среда","21 июля, четверг","22 июля, пятница"];return this.dayName=t[this.dayNumber-1]},howManyShow:function(){return this.selectedFilms.length=this.selectedFilms.length/2,this.selectedFilms.length},sortFilms:function(){function t(t,i){return t.rating>i.rating?-1:t.rating<i.rating?1:0}return this.selectedFilms.length>0&&(this.selectedFilms=this.selectedFilms.sort(t).slice(0,this.howManyShow()),this.selectedFilms)}},components:{HeaderComponent:h,FilmsTable:G}},K=J,Q=(0,d.Z)(K,a,n,!1,null,"009099be",null),X=Q.exports,Y=e(6265),tt=e.n(Y),it=e(6423);s.ZP.use(it.Z,tt()),s.ZP.config.productionTip=!1,new s.ZP({render:t=>t(X)}).$mount("#app")}},i={};function e(s){var a=i[s];if(void 0!==a)return a.exports;var n=i[s]={id:s,loaded:!1,exports:{}};return t[s](n,n.exports,e),n.loaded=!0,n.exports}e.m=t,function(){e.amdO={}}(),function(){var t=[];e.O=function(i,s,a,n){if(!s){var l=1/0;for(c=0;c<t.length;c++){s=t[c][0],a=t[c][1],n=t[c][2];for(var r=!0,o=0;o<s.length;o++)(!1&n||l>=n)&&Object.keys(e.O).every((function(t){return e.O[t](s[o])}))?s.splice(o--,1):(r=!1,n<l&&(l=n));if(r){t.splice(c--,1);var u=a();void 0!==u&&(i=u)}}return i}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,a,n]}}(),function(){e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,{a:i}),i}}(),function(){e.d=function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}}(),function(){var t={143:0};e.O.j=function(i){return 0===t[i]};var i=function(i,s){var a,n,l=s[0],r=s[1],o=s[2],u=0;if(l.some((function(i){return 0!==t[i]}))){for(a in r)e.o(r,a)&&(e.m[a]=r[a]);if(o)var c=o(e)}for(i&&i(s);u<l.length;u++)n=l[u],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(c)},s=self["webpackChunkfilms_rating"]=self["webpackChunkfilms_rating"]||[];s.forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(5132)}));s=e.O(s)})();
//# sourceMappingURL=app.e936324e.js.map